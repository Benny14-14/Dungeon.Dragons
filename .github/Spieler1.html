<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spieler 1 | D&D</title>
</head>
<body>
    <h1>Willkommen, Spieler 1!</h1>
    <p>Hier sind deine aktuellen Werte:</p>

    <table id="data-table" border="1">
        <thead>
            <tr>
                <th>Name</th>
                <th>HP</th>
                <th>Mana</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        // Google Sheets CSV-URL fÃ¼r Spieler 1
        const SHEET_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTx46hOTOnttDbdtc2kMYyiXZA__d0v5vOqWSfj-W4e3S8g5bP_HoxOd7gdvJDZTuWqP6v6ZfZ_z8k9/pub?gid=1526898814&single=true&output=csv";

        async function fetchData() {
            const response = await fetch(SHEET_URL);
            const data = await response.text();
            updateTable(data);
        }

        function updateTable(csvText) {
            const rows = csvText.split("\n").map(row => row.split(","));
            const tableBody = document.querySelector("#data-table tbody");
            tableBody.innerHTML = "";

            rows.forEach(row => {
                let tr = document.createElement("tr");
                row.forEach(cell => {
                    let td = document.createElement("td");
                    td.textContent = cell;
                    tr.appendChild(td);
                });
                tableBody.appendChild(tr);
            });
        }

        // Daten einmal laden und alle 10 Sekunden aktualisieren
        fetchData();
        setInterval(fetchData, 10000);
    </script>
</body>
</html>
